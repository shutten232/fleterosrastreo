<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Panel Fletero</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>#map{height:100vh}</style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-database-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyDXE220yJCQEJf-Sj9f9qZlVc05fTLZRm4",
  authDomain: "apprastreofleteros.firebaseapp.com",
  databaseURL: "https://apprastreofleteros-default-rtdb.firebaseio.com",
  projectId: "apprastreofleteros",
  storageBucket: "apprastreofleteros.firebasestorage.app",
  messagingSenderId: "897555475590",
  appId: "1:897555475590:web:955dcf93c6678c2c2bf507"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.database();
const map=L.map('map').setView([-31.4167,-64.1833],13);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
const marker=L.marker([-31.4167,-64.1833]).addTo(map);
db.ref("drivers/test1/live").on("value",s=>{
 if(!s.exists())return;
 const v=s.val();
 marker.setLatLng([v.lat,v.lng]);
 map.panTo([v.lat,v.lng]);
});
</script>
</body>
</html>
